<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="2dfe61bc-60ec-489e-95e9-ba33e7259be4" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Verify the field mapping to CSDP colum of GenOutletMasterOut Interface" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="IncludeOverview">true</con:setting><con:setting id="IncludeResults">true</con:setting><con:setting id="FlowLayout">false</con:setting><con:setting id="ErrorDetails">true</con:setting><con:setting id="IncludeCoverage">true</con:setting><con:setting id="2dfe61bc-60ec-489e-95e9-ba33e7259be4fileName">Verify-the-field-mapping-to-CSDP-colum-of-GenOutletMasterOut-Interface</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="groovy" name="DATA UPDATION AT CSDP" id="3dd9d789-ffe9-4996-9ac7-1492de652222"><con:settings/><con:config><script> import groovy.sql.Sql


    try{

    def dbURL="jdbc:sqlserver://128.1.101.19\\SQLSERVER2014;databaseName=EBM_NDB_1"
    def dbUsername="sndpro"
    def dbPassword="sqa@123"
    def dbDriver="com.microsoft.sqlserver.jdbc.SQLServerDriver"

    def db = Sql.newInstance(dbURL,dbUsername,dbPassword,dbDriver)

    def q1 = "SELECT TOP (1) NAME,DISTRIBUTOR FROM POP"


    db.eachRow(q1){row ->
       log.info "${row.name}"
       log.info "${row.DISTRIBUTOR}"

       db.execute("UPDATE TOP (1) POP  SET COMPANY=COMPANY WHERE DISTRIBUTOR='100523' ");
      
       db.execute("UPDATE TOP (1) POP  SET COMPANY=COMPANY WHERE DISTRIBUTOR='100523' ");
    }
    


   }catch (Exception e){
       log.info "Some db error"
       log.info e.getMessage()

   }finally{

db.close()
   }</script></con:config></con:testStep><con:testStep type="restrequest" name="Request1" id="e097e1cc-1600-4ce4-9422-f6d60dbc3c9d"><con:settings/><con:config service="http://ws043" resourcePath="/EBM_Integration/ebm/GenOutletMasterOut/1/01/SND/100523" methodName="100523" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request1" id="723d6a80-b848-4c0b-ad48-4c013857ffc6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://ws043</con:endpoint><con:request/><con:originalUri>http://ws043/EBM_Integration/ebm/GenOutletMasterOut/1/01/SND/100523</con:originalUri><con:assertion type="Simple Contains" id="bca2d799-f9ff-4fcf-a591-a9786dd1db9a" name="Contains"><con:configuration><token>SalesOrganization</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="4bf73126-ba68-4475-9ba4-303396326503" name="Contains 2"><con:configuration><token>ShopCode</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="689af8ee-5b64-4935-90c1-48b135345afd" name="Contains 3"><con:configuration><token>ShopName</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="586a6135-2453-4eca-a2b3-96d3e996d9a8" name="Contains 4"><con:configuration><token>City</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="f1284ff9-5541-4f7f-860d-80de8a638467" name="Contains 5"><con:configuration><token>CustomerNumberSND</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="3fb7d895-f892-40dc-ba82-35b79d40cbcf" name="Contains 6"><con:configuration><token>CustomerNumberSAP</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="595984ab-efc5-4885-a11a-2ef3c69c7448" name="Contains 7"><con:configuration><token>ModificationDate</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="92ae61f1-937c-4804-bcb2-a8b438e9c68b" name="Contains 8"><con:configuration><token>CreationDate</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="1b610e3f-2c3d-4e01-9e99-34ed01fe16ff" name="Contains 9"><con:configuration/></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="datasource" name="POP.NAME" id="00b90081-e8b1-4837-9830-d7f00c1f5dd5"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) POP.NAME as POP_NAME
From POP</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>POP_NAME</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="datasource" name="POP.CITY" id="687ff0d3-2646-46a8-b399-ccd2168d5717"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) T.LDESC as T_LDESC
From POP P Inner Join
TOWN T On T.TOWN = P.TOWN And T.COMPANY = P.COMPANY
Order By P.IROW_VER Desc</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>T_LDESC</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="datasource" name="POP.SALE_ORGANIZATION" id="0b3c26c9-1e60-4615-badf-686091aab03c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) D.SALES_ORGANIZATION as D_SALES_ORGANIZATION
From POP P Inner Join
  DISTRIBUTOR D On D.COMPANY = P.COMPANY And D.DISTRIBUTOR = P.DISTRIBUTOR
Order By P.IROW_VER Desc</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>D_SALES_ORGANIZATION</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="datasource" name="POP.DATE_ENTRY" id="6afb68de-31f9-48c2-b95e-a56053f8a5c8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) Convert(VARCHAR,POP.DATE_ENTRY,126) As DATE_ENTRY
From POP
Order By POP.IROW_VER Desc</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>DATE_ENTRY</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="datasource" name="POP.DATE_MODIFY" id="e9395930-ce4c-402b-bf6d-f308de3352f8"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) Convert(VARCHAR,POP.DATE_MODIFY,126) As DATE_MODIFY
From POP
Order By POP.IROW_VER Desc</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>DATE_MODIFY</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="datasource" name="POP.DISTRIBUTOR" id="c5f082fb-2a08-475f-8c8c-986ef489589c"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) POP.DISTRIBUTOR as POP_DISTRIBUTOR
From POP</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>POP_DISTRIBUTOR</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="datasource" name="POP.DISTRIBUTORSND" id="b41b2172-ac15-4c28-a218-debc82fa706a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) POP.DISTRIBUTOR As POP_DISTRIBUTOR
From POP</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>POP_DISTRIBUTOR</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="datasource" name="POP.TOWN+LOCALITY+SLOCALITY+POP" id="e43eeed1-fa48-4d18-b2b9-b0ae48e3c5d6"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) POP.TOWN+LOCALITY+LOCALITY+SLOCALITY+POP as [TOWN+LOCALITY+LOCALITY+SLOCALITY+POP]
From pop
Order By pop.IROW_VER Desc</query><fetchSize>1</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>TOWN+LOCALITY+LOCALITY+SLOCALITY+POP</con:property><con:startRow/><con:endRow/><con:recordsPerIteration>1</con:recordsPerIteration><con:completeLastOperation>true</con:completeLastOperation><con:trimValues>false</con:trimValues><con:entitizeValues>true</con:entitizeValues><con:restartOnRun>true</con:restartOnRun><con:expandProperties>false</con:expandProperties></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="fe1d0342-38a6-4433-af96-ed30793a9369"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>1aa4966b-05d4-409a-aa4d-d6b4f913f5f6</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="ShopName" id="c789d963-7eda-42ca-b6a2-dcbc7ee4c1ac"><con:configuration><path>$[0]['ShopName']</path><content>${POP.NAME#POP_NAME}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry><con:entry><con:id>38fe8555-3fd0-4f72-9f8b-9aad88ae11f8</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="City" id="abbe1c20-04b4-4c76-aeec-f39a35dd985d"><con:configuration><path>$[0]['City']</path><content>${POP.CITY#T_LDESC}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry><con:entry><con:id>0be49aad-3f9e-4183-b25b-3772e8bdb327</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="SalesOrganization" id="c8aa12a0-dd90-4532-ade2-0d26d138e7ba"><con:configuration><path>$[0]['SalesOrganization']</path><content>${POP.SALE_ORGANIZATION#D_SALES_ORGANIZATION}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry><con:entry><con:id>f6773d49-bbe5-4429-832f-a719f0c2e324</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="CreationDate" id="13748ba0-f996-4bc2-b201-a0bcbd88d6f6"><con:configuration><path>$[0]['CreationDate']</path><content>${POP.DATE_ENTRY#DATE_ENTRY}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry><con:entry><con:id>0452cbe0-4929-4fee-b8fd-0556f57a5835</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="ModificationDate" id="e5e7d27a-3619-40a4-886f-a9482acdbb25"><con:configuration><path>$[0]['ModificationDate']</path><content>${POP.DATE_MODIFY#DATE_MODIFY}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry><con:entry><con:id>48977788-3d8d-4b93-860d-859ad14f6f2a</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="CustomerNumberSND" id="0eb09f66-4448-4cc6-9af6-101e7c6fef39"><con:configuration><path>$[0]['CustomerNumberSND']</path><content>${POP.DISTRIBUTORSND#POP_DISTRIBUTOR}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry><con:entry><con:id>df683c87-28d3-4616-99b5-54e41ba778a9</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="CustomerNumberSAP" id="4f3f3de8-86d5-4207-8a42-ac220a427bf6"><con:configuration><path>$[0]['CustomerNumberSAP']</path><content>${POP.DISTRIBUTOR#POP_DISTRIBUTOR}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry><con:entry><con:id>fbe53bbc-06ae-483b-9c21-635f4d2cacd8</con:id><con:isGroup>false</con:isGroup><con:sourceId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="ShopCode" id="ca7329dc-27ea-41af-9c91-67754b51ee75"><con:configuration><path>$[0]['ShopCode']</path><content>${POP.TOWN+LOCALITY+SLOCALITY+POP#TOWN+LOCALITY+LOCALITY+SLOCALITY+POP}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>3dd9d789-ffe9-4996-9ac7-1492de652222</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>00b90081-e8b1-4837-9830-d7f00c1f5dd5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>fe1d0342-38a6-4433-af96-ed30793a9369</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>687ff0d3-2646-46a8-b399-ccd2168d5717</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0b3c26c9-1e60-4615-badf-686091aab03c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6afb68de-31f9-48c2-b95e-a56053f8a5c8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e9395930-ce4c-402b-bf6d-f308de3352f8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>c5f082fb-2a08-475f-8c8c-986ef489589c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b41b2172-ac15-4c28-a218-debc82fa706a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e43eeed1-fa48-4d18-b2b9-b0ae48e3c5d6</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>