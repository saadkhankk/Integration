<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="e54c9cb1-4f6b-4f15-9c4b-ca4df22d790b" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Validate  &lt;CustomerNumberSND> Tag Mapping to CSDP after Generation of  'GenOutletMasterOut' Outbound Interface" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config"><con:description>field level validation</con:description><con:settings><con:setting id="IncludeOverview">true</con:setting><con:setting id="IncludeResults">true</con:setting><con:setting id="FlowLayout">false</con:setting><con:setting id="ErrorDetails">true</con:setting><con:setting id="IncludeCoverage">true</con:setting><con:setting id="e54c9cb1-4f6b-4f15-9c4b-ca4df22d790bfileName">Validate--%3CCustomerNumberSND%3E-Tag-Mapping-to-CSDP-after-Generation-of--%27GenOutletMasterOut%27-Outbound-Interface</con:setting></con:settings><con:savedRecentRuns>1</con:savedRecentRuns><con:testStep type="groovy" name="DATA UPDATION AT CSDP" id="adc8aedf-9d56-47d6-a507-9027a1a6ccd7"><con:settings/><con:config><script> import groovy.sql.Sql


    try{

    def dbURL="jdbc:sqlserver://128.1.101.19\\SQLSERVER2014;databaseName=EBM_NDB_1"
    def dbUsername="sndpro"
    def dbPassword="sqa@123"
    def dbDriver="com.microsoft.sqlserver.jdbc.SQLServerDriver"

    def db = Sql.newInstance(dbURL,dbUsername,dbPassword,dbDriver)

    def q1 = "SELECT TOP (1) NAME,DISTRIBUTOR FROM POP"


    db.eachRow(q1){row ->
       log.info "${row.name}"
       log.info "${row.DISTRIBUTOR}"

       db.execute("UPDATE TOP (1) POP  SET COMPANY=COMPANY WHERE DISTRIBUTOR='100523' ");
      
       db.execute("UPDATE TOP (1) POP  SET COMPANY=COMPANY WHERE DISTRIBUTOR='100523' ");
    }
    


   }catch (Exception e){
       log.info "Some db error"
       log.info e.getMessage()

   }finally{

db.close()
   }</script></con:config></con:testStep><con:testStep type="restrequest" name="Request1" id="100fd2a1-e2c9-46c9-bcaf-10ec883c23d0"><con:settings/><con:config service="http://ws043" resourcePath="/EBM_Integration/ebm/GenOutletMasterOut/1/01/SND/100523" methodName="100523" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Request1" id="723d6a80-b848-4c0b-ad48-4c013857ffc6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://ws043</con:endpoint><con:request/><con:originalUri>http://ws043/EBM_Integration/ebm/GenOutletMasterOut/1/01/SND/100523</con:originalUri><con:assertion type="Simple Contains" id="bca2d799-f9ff-4fcf-a591-a9786dd1db9a" name="Contains"><con:configuration><token>SalesOrganization</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="4bf73126-ba68-4475-9ba4-303396326503" name="Contains 2"><con:configuration><token>ShopCode</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="689af8ee-5b64-4935-90c1-48b135345afd" name="Contains 3"><con:configuration><token>ShopName</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="586a6135-2453-4eca-a2b3-96d3e996d9a8" name="Contains 4"><con:configuration><token>City</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="f1284ff9-5541-4f7f-860d-80de8a638467" name="Contains 5"><con:configuration><token>CustomerNumberSND</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="3fb7d895-f892-40dc-ba82-35b79d40cbcf" name="Contains 6"><con:configuration><token>CustomerNumberSAP</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="595984ab-efc5-4885-a11a-2ef3c69c7448" name="Contains 7"><con:configuration><token>ModificationDate</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="92ae61f1-937c-4804-bcb2-a8b438e9c68b" name="Contains 8"><con:configuration><token>CreationDate</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="1b610e3f-2c3d-4e01-9e99-34ed01fe16ff" name="Contains 9"><con:configuration/></con:assertion><con:credentials><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="datasource" name="POP.DISTRIBUTORSND" id="bfc376e3-d131-4fbc-9b2b-2b1d5aeed75a"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.teststeps.datasource.DataSourceContainer@prepared-properties">&lt;xml-fragment/></con:setting></con:settings><con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:dataSource type="Data Connection"><con:configuration><Connection>EBM_DATABASE1( Default environment )</Connection><query>Select Top (1) POP.DISTRIBUTOR As POP_DISTRIBUTOR
From POP</query><fetchSize>100</fetchSize><stored-procedure>false</stored-procedure></con:configuration></con:dataSource><con:shared>true</con:shared><con:restartShared>true</con:restartShared><con:property>POP_DISTRIBUTOR</con:property><con:completeLastOperation>true</con:completeLastOperation><con:restartOnRun>true</con:restartOnRun></con:config></con:testStep><con:testStep type="assertionteststep" name="Assertion" id="eae36585-4aec-492f-b664-3176b7c7f3ac"><con:settings/><con:config xsi:type="con:AssertionTestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:entry><con:id>9b077e54-3082-4a79-8ceb-4cf5cf340984</con:id><con:isGroup>false</con:isGroup><con:sourceId>100fd2a1-e2c9-46c9-bcaf-10ec883c23d0</con:sourceId><con:propertyName>Response</con:propertyName><con:assertion type="JsonPath Match" name="CustomerNumberSND" id="1f38c1e5-467c-4c6b-97e5-af6eccc7bc6b"><con:configuration><path>$[0]['CustomerNumberSND']</path><content>${POP.DISTRIBUTORSND#POP_DISTRIBUTOR}</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion></con:entry></con:config></con:testStep><con:properties/><con:reportParameters/><con:breakPoints><con:testStepId>3dd9d789-ffe9-4996-9ac7-1492de652222</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e097e1cc-1600-4ce4-9422-f6d60dbc3c9d</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>00b90081-e8b1-4837-9830-d7f00c1f5dd5</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>fe1d0342-38a6-4433-af96-ed30793a9369</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>687ff0d3-2646-46a8-b399-ccd2168d5717</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>0b3c26c9-1e60-4615-badf-686091aab03c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>6afb68de-31f9-48c2-b95e-a56053f8a5c8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e9395930-ce4c-402b-bf6d-f308de3352f8</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>c5f082fb-2a08-475f-8c8c-986ef489589c</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>b41b2172-ac15-4c28-a218-debc82fa706a</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints><con:breakPoints><con:testStepId>e43eeed1-fa48-4d18-b2b9-b0ae48e3c5d6</con:testStepId><con:status>NONE</con:status><con:properties/></con:breakPoints></con:testCase>